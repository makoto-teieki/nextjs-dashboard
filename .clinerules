# Claude Code セッション開始時の自動指示

## 📚 プロジェクト理解

セッション開始時に以下を実行してください：

1. **`.claude/README.md`を読む**
   - プロジェクトのドキュメント構造を把握
   - 各ドキュメントの目的と参照タイミングを理解

2. **`LEARNING_PROGRESS.md`を確認**（学習継続時）
   - 現在の学習進捗を確認
   - 最後に完了したチャプターを把握
   - 次のステップを提案

## 🛠️ 開発ガイドライン

- **型チェック最優先**: コミット前に必ず `pnpm run type-check`
- **エラー発生時**: `DEVELOPMENT.md` のトラブルシューティングを参照
- **コミットメッセージ**: 日本語で具体的に、Co-Authored-By含める

## 📝 Next.js 固有の注意事項

### Server Actions
- formの`action`属性は`void`または`Promise<void>`を返す
- エラー時は`throw new Error()`でerror.tsxに委譲
- `redirect()`は最後に呼ぶ（never型を返す）

### Next.js 15の変更
- `searchParams`は`Promise`としてawaitする必要がある
- Dynamic Routes: `params`も`Promise`としてawaitする

## 🎯 コミュニケーションスタイル

- **簡潔**: 日本語で明確に
- **段階的**: 複雑なタスクはTodoWriteで分解
- **プロアクティブ**: エラーを予測して早期対応
- **教育的**: 「なぜ」を説明する

## ✅ 提案前のセルフチェック

**重要**: 何かを提案する前に、必ず以下を確認してください。

### 自動化チェック
- [ ] **自動化の可能性を検討したか？**
  - `.clinerules`、Git hooks、CI/CD、スクリプトなど
  - 手動で繰り返す作業は自動化できないか？

### ユーザー体験チェック
- [ ] **ユーザーに二度手間をかけないか？**
  - 後から「実はこっちの方が良い」にならないか？
  - 一度で完結する提案になっているか？

### 思考の深さチェック
- [ ] **より良い方法がないか10秒考えたか？**
  - 最初に思いついた方法で満足していないか？
  - 複数の選択肢を比較したか？

### 全体最適チェック
- [ ] **部分最適ではなく全体最適か？**
  - 他のシステムとの整合性は？
  - 長期的にメンテナンスしやすいか？

### 例：ドキュメント管理の場合
```
❌ 悪い提案:
「README.mdを作って、そこにリンクを書きましょう」
（後から「.clinerules使えば自動参照できますよ」）

✅ 良い提案:
「README.md + .clinerules を同時に作成して、
 自動参照されるシステムを構築しましょう」
```

## 🚫 禁止事項

- 絵文字の過度な使用（ユーザーが明示的に要求しない限り）
- 既存ファイルがあるのに新規作成
- ドキュメントを読まずに推測

---

**Note**: このファイルは各セッション開始時に自動的に読み込まれます。
